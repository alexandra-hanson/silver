
package silver.extension.bidirtransform;

// ag::AGDcls ::= 'transform' trsl::TransformList 'rewrite' '{' rwRules::RewriteRuleList '}' 'from' cncGroupIn::NonterminalList 'to' absGroupIn::NonterminalList '->>' nestedAgs::AGDcls 
public final class PtransformAGDclFull extends silver.definition.core.NAGDcls {

	public static final int i__G_11 = 0;
	public static final int i_trsl = 1;
	public static final int i__G_9 = 2;
	public static final int i__G_8 = 3;
	public static final int i_rwRules = 4;
	public static final int i__G_6 = 5;
	public static final int i__G_5 = 6;
	public static final int i_cncGroupIn = 7;
	public static final int i__G_3 = 8;
	public static final int i_absGroupIn = 9;
	public static final int i__G_1 = 10;
	public static final int i_nestedAgs = 11;


	public static final Class<?> childTypes[] = {silver.extension.bidirtransform.TTransform_kwd.class,silver.extension.bidirtransform.NTransformList.class,silver.extension.bidirtransform.TRewrite_kwd.class,silver.definition.core.TLCurly_t.class,silver.extension.bidirtransform.NRewriteRuleList.class,silver.definition.core.TRCurly_t.class,silver.extension.bidirtransform.TFrom_kwd.class,silver.extension.bidirtransform.NNonterminalList.class,silver.definition.core.TTo_kwd.class,silver.extension.bidirtransform.NNonterminalList.class,silver.extension.bidirtransform.TDblArrow_kwd.class,silver.definition.core.NAGDcls.class};

	public static final int num_local_attrs = Init.count_local__ON__silver_extension_bidirtransform_transformAGDclFull;
	public static final String[] occurs_local = new String[num_local_attrs];

	public static final common.Lazy[] forwardInheritedAttributes = new common.Lazy[silver.definition.core.NAGDcls.num_inh_attrs];

	public static final common.Lazy[] synthesizedAttributes = new common.Lazy[silver.definition.core.NAGDcls.num_syn_attrs];
	public static final common.Lazy[][] childInheritedAttributes = new common.Lazy[12][];

	public static final common.Lazy[] localAttributes = new common.Lazy[num_local_attrs];
	public static final common.Lazy[][] localInheritedAttributes = new common.Lazy[num_local_attrs][];

	static {
	childInheritedAttributes[i_trsl] = new common.Lazy[silver.extension.bidirtransform.NTransformList.num_inh_attrs];
	childInheritedAttributes[i_rwRules] = new common.Lazy[silver.extension.bidirtransform.NRewriteRuleList.num_inh_attrs];
	childInheritedAttributes[i_cncGroupIn] = new common.Lazy[silver.extension.bidirtransform.NNonterminalList.num_inh_attrs];
	childInheritedAttributes[i_absGroupIn] = new common.Lazy[silver.extension.bidirtransform.NNonterminalList.num_inh_attrs];
	childInheritedAttributes[i_nestedAgs] = new common.Lazy[silver.definition.core.NAGDcls.num_inh_attrs];

	}

	public PtransformAGDclFull(final Object c__G_11, final Object c_trsl, final Object c__G_9, final Object c__G_8, final Object c_rwRules, final Object c__G_6, final Object c__G_5, final Object c_cncGroupIn, final Object c__G_3, final Object c_absGroupIn, final Object c__G_1, final Object c_nestedAgs, final Object a_core_location) {
		super(a_core_location);
		this.child__G_11 = c__G_11;
		this.child_trsl = c_trsl;
		this.child__G_9 = c__G_9;
		this.child__G_8 = c__G_8;
		this.child_rwRules = c_rwRules;
		this.child__G_6 = c__G_6;
		this.child__G_5 = c__G_5;
		this.child_cncGroupIn = c_cncGroupIn;
		this.child__G_3 = c__G_3;
		this.child_absGroupIn = c_absGroupIn;
		this.child__G_1 = c__G_1;
		this.child_nestedAgs = c_nestedAgs;

	}

	private Object child__G_11;
	public final silver.extension.bidirtransform.TTransform_kwd getChild__G_11() {
		return (silver.extension.bidirtransform.TTransform_kwd) (child__G_11 = common.Util.demand(child__G_11));
	}

	private Object child_trsl;
	public final silver.extension.bidirtransform.NTransformList getChild_trsl() {
		return (silver.extension.bidirtransform.NTransformList) (child_trsl = common.Util.demand(child_trsl));
	}

	private Object child__G_9;
	public final silver.extension.bidirtransform.TRewrite_kwd getChild__G_9() {
		return (silver.extension.bidirtransform.TRewrite_kwd) (child__G_9 = common.Util.demand(child__G_9));
	}

	private Object child__G_8;
	public final silver.definition.core.TLCurly_t getChild__G_8() {
		return (silver.definition.core.TLCurly_t) (child__G_8 = common.Util.demand(child__G_8));
	}

	private Object child_rwRules;
	public final silver.extension.bidirtransform.NRewriteRuleList getChild_rwRules() {
		return (silver.extension.bidirtransform.NRewriteRuleList) (child_rwRules = common.Util.demand(child_rwRules));
	}

	private Object child__G_6;
	public final silver.definition.core.TRCurly_t getChild__G_6() {
		return (silver.definition.core.TRCurly_t) (child__G_6 = common.Util.demand(child__G_6));
	}

	private Object child__G_5;
	public final silver.extension.bidirtransform.TFrom_kwd getChild__G_5() {
		return (silver.extension.bidirtransform.TFrom_kwd) (child__G_5 = common.Util.demand(child__G_5));
	}

	private Object child_cncGroupIn;
	public final silver.extension.bidirtransform.NNonterminalList getChild_cncGroupIn() {
		return (silver.extension.bidirtransform.NNonterminalList) (child_cncGroupIn = common.Util.demand(child_cncGroupIn));
	}

	private Object child__G_3;
	public final silver.definition.core.TTo_kwd getChild__G_3() {
		return (silver.definition.core.TTo_kwd) (child__G_3 = common.Util.demand(child__G_3));
	}

	private Object child_absGroupIn;
	public final silver.extension.bidirtransform.NNonterminalList getChild_absGroupIn() {
		return (silver.extension.bidirtransform.NNonterminalList) (child_absGroupIn = common.Util.demand(child_absGroupIn));
	}

	private Object child__G_1;
	public final silver.extension.bidirtransform.TDblArrow_kwd getChild__G_1() {
		return (silver.extension.bidirtransform.TDblArrow_kwd) (child__G_1 = common.Util.demand(child__G_1));
	}

	private Object child_nestedAgs;
	public final silver.definition.core.NAGDcls getChild_nestedAgs() {
		return (silver.definition.core.NAGDcls) (child_nestedAgs = common.Util.demand(child_nestedAgs));
	}



	@Override
	public Object getChild(final int index) {
		switch(index) {
			case i__G_11: return getChild__G_11();
			case i_trsl: return getChild_trsl();
			case i__G_9: return getChild__G_9();
			case i__G_8: return getChild__G_8();
			case i_rwRules: return getChild_rwRules();
			case i__G_6: return getChild__G_6();
			case i__G_5: return getChild__G_5();
			case i_cncGroupIn: return getChild_cncGroupIn();
			case i__G_3: return getChild__G_3();
			case i_absGroupIn: return getChild_absGroupIn();
			case i__G_1: return getChild__G_1();
			case i_nestedAgs: return getChild_nestedAgs();

			default: return null;
		}
	}

	@Override
	public Object getChildLazy(final int index) {
		switch(index) {
			case i__G_11: return child__G_11;
			case i_trsl: return child_trsl;
			case i__G_9: return child__G_9;
			case i__G_8: return child__G_8;
			case i_rwRules: return child_rwRules;
			case i__G_6: return child__G_6;
			case i__G_5: return child__G_5;
			case i_cncGroupIn: return child_cncGroupIn;
			case i__G_3: return child__G_3;
			case i_absGroupIn: return child_absGroupIn;
			case i__G_1: return child__G_1;
			case i_nestedAgs: return child_nestedAgs;

			default: return null;
		}
	}

	@Override
	public final int getNumberOfChildren() {
		return 12;
	}

	@Override
	public common.Lazy getSynthesized(final int index) {
		return synthesizedAttributes[index];
	}

	@Override
	public common.Lazy[] getLocalInheritedAttributes(final int key) {
		return localInheritedAttributes[key];
	}

	@Override
	public common.Lazy[] getChildInheritedAttributes(final int key) {
		return childInheritedAttributes[key];
	}

	@Override
	public boolean hasForward() {
		return true;
	}

	@Override
	public common.Node evalForward(final common.DecoratedNode context) {
		return ((silver.definition.core.NAGDcls)new silver.definition.core.PconsAGDcls(common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.toForward__ON__silver_extension_bidirtransform_transformAGDclFull)), common.Thunk.transformUndecorate(context.childDecoratedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
	}

	@Override
	public common.Lazy getForwardInheritedAttributes(final int index) {
		return forwardInheritedAttributes[index];
	}

	@Override
	public common.Lazy getLocal(final int key) {
		return localAttributes[key];
	}

	@Override
	public final int getNumberOfLocalAttrs() {
		return num_local_attrs;
	}

	@Override
	public final String getNameOfLocalAttr(final int index) {
		return occurs_local[index];
	}

	@Override
	public String getName() {
		return "silver:extension:bidirtransform:transformAGDclFull";
	}

	static void initProductionAttributeDefinitions() {
		// ag.pp = "transform " ++ trsl.pp ++ " rewrite {" ++ rwRules.pp ++ "};"
		silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_env_pp__ON__silver_definition_core_AGDcls] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("transform ")), (common.StringCatter)new common.StringCatter((common.StringCatter)((common.StringCatter)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl).synthesized(silver.extension.bidirtransform.Init.silver_definition_env_pp__ON__silver_extension_bidirtransform_TransformList)), (common.StringCatter)new common.StringCatter((common.StringCatter)(new common.StringCatter(" rewrite {")), (common.StringCatter)new common.StringCatter((common.StringCatter)((common.StringCatter)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules).synthesized(silver.extension.bidirtransform.Init.silver_definition_env_pp__ON__silver_extension_bidirtransform_RewriteRuleList)), (common.StringCatter)(new common.StringCatter("};")))))); } };
		// groupEnv = toEnv(nestedAgs.defs)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.groupEnv__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.definition.env.PtoEnv.invoke(context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs, silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls))); } };
		// absGroup = decorate absGroupIn with {env = groupEnv; grantedDefs = nestedAgs.defs;}
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_absGroupIn).undecorate().decorate(context, common.Util.populateInh(silver.extension.bidirtransform.NNonterminalList.num_inh_attrs, new int[]{silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_NonterminalList, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_grantedDefs__ON__silver_extension_bidirtransform_NonterminalList}, new common.Lazy[]{new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.groupEnv__ON__silver_extension_bidirtransform_transformAGDclFull)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs).synthesized(silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls)); } }})); } };
		// cncGroup = decorate cncGroupIn with {env = groupEnv; grantedDefs = nestedAgs.defs;}
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_cncGroupIn).undecorate().decorate(context, common.Util.populateInh(silver.extension.bidirtransform.NNonterminalList.num_inh_attrs, new int[]{silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_NonterminalList, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_grantedDefs__ON__silver_extension_bidirtransform_NonterminalList}, new common.Lazy[]{new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.groupEnv__ON__silver_extension_bidirtransform_transformAGDclFull)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs).synthesized(silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls)); } }})); } };
		// ag.errors := trsl.errors ++ newRwRules.errors ++ absGroup.errors ++ cncGroup.errors
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).setBase(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl, silver.extension.bidirtransform.Init.silver_definition_core_errors__ON__silver_extension_bidirtransform_TransformList), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_definition_core_errors__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_definition_core_errors__ON__silver_extension_bidirtransform_NonterminalList)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_definition_core_errors__ON__silver_extension_bidirtransform_NonterminalList)); } })); } })); } })); } });
		// trsl.absGroup = absGroup
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_trsl][silver.extension.bidirtransform.Init.silver_extension_bidirtransform_absGroup__ON__silver_extension_bidirtransform_TransformList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// trsl.cncGroup = cncGroup
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_trsl][silver.extension.bidirtransform.Init.silver_extension_bidirtransform_cncGroup__ON__silver_extension_bidirtransform_TransformList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// trsl.downSubst = emptySubst()
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_trsl][silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_downSubst__ON__silver_extension_bidirtransform_TransformList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)silver.definition.type.PemptySubst.invoke()); } };
		// trsl.finalSubst = rwRules.upSubst
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_trsl][silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_TransformList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules).synthesized(silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_upSubst__ON__silver_extension_bidirtransform_RewriteRuleList)); } };
		// rwRules.absGroup = absGroup
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules][silver.extension.bidirtransform.Init.silver_extension_bidirtransform_absGroup__ON__silver_extension_bidirtransform_RewriteRuleList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// rwRules.cncGroup = cncGroup
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules][silver.extension.bidirtransform.Init.silver_extension_bidirtransform_cncGroup__ON__silver_extension_bidirtransform_RewriteRuleList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// rwRules.downSubst = emptySubst()
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules][silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_downSubst__ON__silver_extension_bidirtransform_RewriteRuleList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)silver.definition.type.PemptySubst.invoke()); } };
		// rwRules.finalSubst = trsl.finalSubst
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules][silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_RewriteRuleList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl).inherited(silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_TransformList)); } };
		// absNames = map((.name), absGroup.ntList)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pmap.invoke(new common.AttributeSection(silver.extension.bidirtransform.Init.silver_definition_core_name__ON__silver_extension_bidirtransform_FullNonterminal), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } })); } };
		// cncNames = map((.name), cncGroup.ntList)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pmap.invoke(new common.AttributeSection(silver.extension.bidirtransform.Init.silver_definition_core_name__ON__silver_extension_bidirtransform_FullNonterminal), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } })); } };
		// locCncNames = []
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.locCncNames__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pnil.invoke()); } };
		// nonLocCncNames = cncNames
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.nonLocCncNames__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)context.localAsIs(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// allNames = cncNames ++ absNames
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.allNames__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull), context.localAsIsLazy(silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// absProdDcls = absProdsFromDefs(nestedAgs.defs)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)silver.extension.bidirtransform.PabsProdsFromDefs.invoke(context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs, silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls))); } };
		// cncProdDcls = cncProdsFromDefs(nestedAgs.defs)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.cncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)silver.extension.bidirtransform.PcncProdsFromDefs.invoke(context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs, silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls))); } };
		// locCncProdDcls = []
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.locCncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pnil.invoke()); } };
		// nonLocCncProdDcls = cncProdDcls
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.nonLocCncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)context.localAsIs(silver.extension.bidirtransform.Init.cncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// allProdDcls = absProdDcls ++ cncProdDcls
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.allProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// trsl.inhProds = allProdDcls
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_trsl][silver.extension.bidirtransform.Init.silver_extension_bidirtransform_inhProds__ON__silver_extension_bidirtransform_TransformList] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.ConsCell)context.localAsIs(silver.extension.bidirtransform.Init.allProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull)); } };
		// newRwRules = foldl(\ rules::Decorated RewriteRuleList name::String  -> if hasRwEq(rules.rewriteRules, name, name) then rules else decorate rewriteRuleCons(terminal(Vbar_kwd, "|", core:loc("??", -1, -1, -1, -1, -1, -1)), rewriteRule(mkNew("a",location=ag.location), "a", sTyExprDec(name, ag.location, rules.env).typerep, sTyExprDec(name, ag.location, rules.env).typerep, emptyRewriteProduction(location=ag.location), false, false,location=ag.location), new(rules),location=ag.location) with {absGroup = rules.absGroup; cncGroup = rules.cncGroup; env = rules.env; downSubst = rules.downSubst; finalSubst = rules.finalSubst; config = rules.config;}, decorate rwRules with {absGroup = absGroup; cncGroup = cncGroup; env = ag.env; downSubst = emptySubst(); finalSubst = trsl.finalSubst; config = ag.config;}, cncNames)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)core.Pfoldl.invoke((new common.NodeFactory<common.DecoratedNode>() {
  public final common.DecoratedNode invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13262_rules = args[0];
final Object __SV_LAMBDA_PARAM_13263_name = args[1];

    return (((Boolean)silver.extension.bidirtransform.PhasRwEq.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13263_name)), ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13263_name)))) ? ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)) : ((silver.extension.bidirtransform.NRewriteRuleList)new silver.extension.bidirtransform.PrewriteRuleCons(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.extension.patternmatching.TVbar_kwd((new common.StringCatter("|")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.extension.bidirtransform.NRewriteRule)new silver.extension.bidirtransform.PrewriteRule(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PmkNew((new common.StringCatter("a")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, (new common.StringCatter("a")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.type.NType)((common.DecoratedNode)silver.extension.bidirtransform.PsTyExprDec.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13263_name)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_RewriteRuleList)); } })).synthesized(silver.definition.type.syntax.Init.silver_definition_env_typerep__ON__silver_definition_type_syntax_TypeExpr)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.type.NType)((common.DecoratedNode)silver.extension.bidirtransform.PsTyExprDec.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13263_name)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_RewriteRuleList)); } })).synthesized(silver.definition.type.syntax.Init.silver_definition_env_typerep__ON__silver_definition_type_syntax_TypeExpr)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.extension.bidirtransform.NRewriteProduction)new silver.extension.bidirtransform.PemptyRewriteProduction(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, false, false, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.extension.bidirtransform.NRewriteRuleList)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).undecorate()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })).decorate(context, common.Util.populateInh(silver.extension.bidirtransform.NRewriteRuleList.num_inh_attrs, new int[]{silver.extension.bidirtransform.Init.silver_extension_bidirtransform_absGroup__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_cncGroup__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_downSubst__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_definition_env_config__ON__silver_extension_bidirtransform_RewriteRuleList}, new common.Lazy[]{new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_absGroup__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_cncGroup__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_downSubst__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13262_rules)).inherited(silver.extension.bidirtransform.Init.silver_definition_env_config__ON__silver_extension_bidirtransform_RewriteRuleList)); } }})));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_rwRules).undecorate().decorate(context, common.Util.populateInh(silver.extension.bidirtransform.NRewriteRuleList.num_inh_attrs, new int[]{silver.extension.bidirtransform.Init.silver_extension_bidirtransform_absGroup__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_cncGroup__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_definition_env_env__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_downSubst__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_RewriteRuleList, silver.extension.bidirtransform.Init.silver_definition_env_config__ON__silver_extension_bidirtransform_RewriteRuleList}, new common.Lazy[]{new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.inherited(silver.definition.core.Init.silver_definition_env_env__ON__silver_definition_core_AGDcls)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)silver.definition.type.PemptySubst.invoke()); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.type.NSubstitution)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl).inherited(silver.extension.bidirtransform.Init.silver_analysis_typechecking_core_finalSubst__ON__silver_extension_bidirtransform_TransformList)); } }, new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.inherited(silver.definition.core.Init.silver_definition_env_config__ON__silver_definition_core_AGDcls)); } }})); } }, context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls0 = foldl(\ agDcls::AGDcl tdcl::Decorated TransformDcl  -> appendAGDcl(declareTNameAttributes(tdcl, absNames, cncNames,location=ag.location), agDcls,location=ag.location), emptyAGDcl(location=ag.location), trsl.transformDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls0__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13276_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13277_tdcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PdeclareTNameAttributes(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13277_tdcl)), context.localAsIsLazy(silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13276_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.definition.core.PemptyAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_transformDcls__ON__silver_extension_bidirtransform_TransformList))); } };
		// agDcls1 = foldl(\ agDcls::AGDcl name::String  -> appendAGDcl(synAttr(restoreNm(unFull(name)), sTyExpr(name,location=ag.location),location=ag.location), agDcls,location=ag.location), agDcls0, cncNames)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls1__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13284_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13285_name = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PsynAttr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PrestoreNm.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13285_name)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.type.syntax.NTypeExpr)new silver.extension.bidirtransform.PsTyExpr(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13285_name)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13284_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls0__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls2 = foldl(\ agDcls::AGDcl name::String  -> appendAGDcl(attrOn(restoreNm(unFull(name)), absNames ++ [ "Origin" ],location=ag.location), agDcls,location=ag.location), agDcls1, cncNames)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls2__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13289_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13290_name = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PattrOn(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PrestoreNm.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13290_name)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pappend.invoke(context.localAsIsLazy(silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pcons.invoke((new common.StringCatter("Origin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pnil.invoke()); } })); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13289_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls1__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls3 = foldl(\ agDcls::AGDcl lhs::String  -> appendAGDcl(fakeAspectProductionDcl('aspect', 'production', qName(ag.location, mkOriginName(lhs)), mkAspectProdSigDec("o", "Origin", "e", lhs,location=ag.location), productionBody('{', foldl(\ stmts::ProductionStmts rhs::String  -> if ! hasRwID(newRwRules.rewriteRules, lhs, rhs) then stmts else productionStmtsSnoc(stmts, attribDef("o", restoreNm(unFull(rhs)), applyRwOrigin(rwID(newRwRules.rewriteRules, lhs, rhs), rhs, lhs, "o", "e",location=ag.location),location=ag.location),location=ag.location), productionStmtsNil(location=ag.location), cncNames), '}',location=ag.location),location=ag.location), agDcls,location=ag.location), agDcls2, cncNames)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls3__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13296_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13297_lhs = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PfakeAspectProductionDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.definition.core.TAspect_kwd((new common.StringCatter("aspect")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.definition.core.TProduction_kwd((new common.StringCatter("production")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NQName)silver.definition.core.PqName.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PmkOriginName.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13297_lhs)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAspectProductionSignature)new silver.extension.bidirtransform.PmkAspectProdSigDec((new common.StringCatter("o")), (new common.StringCatter("Origin")), (new common.StringCatter("e")), ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13297_lhs)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionBody)new silver.definition.core.PproductionBody(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.definition.core.TLCurly_t((new common.StringCatter("{")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionStmts)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NProductionStmts>() {
  public final silver.definition.core.NProductionStmts invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13300_stmts = args[0];
final Object __SV_LAMBDA_PARAM_13301_rhs = args[1];

    return ((!((Boolean)silver.extension.bidirtransform.PhasRwID.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13297_lhs)), ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13301_rhs))))) ? ((silver.definition.core.NProductionStmts)common.Util.demand(__SV_LAMBDA_PARAM_13300_stmts)) : ((silver.definition.core.NProductionStmts)new silver.definition.core.PproductionStmtsSnoc(((silver.definition.core.NProductionStmts)common.Util.demand(__SV_LAMBDA_PARAM_13300_stmts)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionStmt)new silver.extension.bidirtransform.PattribDef((new common.StringCatter("o")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PrestoreNm.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13301_rhs)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PapplyRwOrigin(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.extension.bidirtransform.PrwID.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13297_lhs)), ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13301_rhs)))); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13301_rhs)), ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13297_lhs)), (new common.StringCatter("o")), (new common.StringCatter("e")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionStmts)new silver.definition.core.PproductionStmtsNil(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.definition.core.TRCurly_t((new common.StringCatter("}")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13296_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls2__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls4 = foldl(\ agDcls::AGDcl dcl::Decorated NamedSignature  -> appendAGDcl(aspectProdStmt(dcl, \ ns::Decorated NamedSignature  -> attribDef(ns.outputElement.elementName, "wasTransformed", foldl(\ e::Expr ie::NamedSignatureElement  -> if contains(unFull(ie.typerep.typeName), absNames) then or(e, '||', exprAccess("wasTransformed", ie.elementName,location=ag.location),location=ag.location) else e, argFunc("wasTransformed", appExprList([ lhsAccess("redex", ns,location=ag.location), lhsAccess("origin", ns,location=ag.location) ],location=ag.location),location=ag.location), ns.inputElements),location=ag.location),location=ag.location), agDcls,location=ag.location), agDcls3, absProdDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls4__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13311_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13312_dcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PaspectProdStmt(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13312_dcl)), (new common.NodeFactory<silver.definition.core.NProductionStmt>() {
  public final silver.definition.core.NProductionStmt invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13313_ns = args[0];

    return ((silver.definition.core.NProductionStmt)new silver.extension.bidirtransform.PattribDef(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13313_ns)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, (new common.StringCatter("wasTransformed")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NExpr>() {
  public final silver.definition.core.NExpr invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13314_e = args[0];
final Object __SV_LAMBDA_PARAM_13315_ie = args[1];

    return (((Boolean)silver.util.Pcontains.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.type.NType)((silver.definition.env.NNamedSignatureElement)common.Util.demand(__SV_LAMBDA_PARAM_13315_ie)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_typerep__ON__silver_definition_env_NamedSignatureElement)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_typeName__ON__silver_definition_type_Type)); } })); } }, context.localAsIsLazy(silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull))) ? ((silver.definition.core.NExpr)new silver.definition.core.Por(((silver.definition.core.NExpr)common.Util.demand(__SV_LAMBDA_PARAM_13314_e)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new silver.definition.core.TOr_t((new common.StringCatter("||")), (core.NLocation)((core.NLocation)new core.Ploc((new common.StringCatter("??")), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1), Integer.valueOf((int)-1)))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PexprAccess((new common.StringCatter("wasTransformed")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)common.Util.demand(__SV_LAMBDA_PARAM_13315_ie)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })) : ((silver.definition.core.NExpr)common.Util.demand(__SV_LAMBDA_PARAM_13314_e)));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PargFunc((new common.StringCatter("wasTransformed")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAppExprs)new silver.extension.bidirtransform.PappExprList(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pcons.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAppExpr)new silver.extension.bidirtransform.PlhsAccess((new common.StringCatter("redex")), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13313_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pcons.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAppExpr)new silver.extension.bidirtransform.PlhsAccess((new common.StringCatter("origin")), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13313_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pnil.invoke()); } })); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13313_ns)).synthesized(silver.definition.env.Init.silver_definition_env_inputElements__ON__silver_definition_env_NamedSignature)); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13311_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls3__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls5 = foldl(\ agDcls::AGDcl dcl::Decorated NamedSignature  -> appendAGDcl(aspectProdStmts(dcl, \ ns::Decorated NamedSignature  -> foldl(\ stmts::ProductionStmts rhs::String  -> if ! hasRwMatch(newRwRules.rewriteRules, rhs, ns) then stmts else productionStmtsSnoc(stmts, attribDef(ns.outputElement.elementName, restoreNm(unFull(rhs)), if rwMatch(newRwRules.rewriteRules, rhs, ns).hasProduction then mkCond(lhsExprAccess("wasTransformed", ns,location=ag.location), applyRwProd(rwMatch(newRwRules.rewriteRules, rhs, ns), ns,location=ag.location), qAccess(restoreNm(unFull(rhs)), qAccess("concreteOrigin", lhsExprAccess("origin", ns,location=ag.location),location=ag.location),location=ag.location),location=ag.location) else applyRw(rwMatch(newRwRules.rewriteRules, rhs, ns), rhs, unFull(ns.typerep.typeName), ns.outputElement.elementName,location=ag.location),location=ag.location),location=ag.location), productionStmtsNil(location=ag.location), cncNames),location=ag.location), agDcls,location=ag.location), agDcls4, absProdDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls5__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13330_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13331_dcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PaspectProdStmts(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13331_dcl)), (new common.NodeFactory<silver.definition.core.NProductionStmts>() {
  public final silver.definition.core.NProductionStmts invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13332_ns = args[0];

    return ((silver.definition.core.NProductionStmts)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NProductionStmts>() {
  public final silver.definition.core.NProductionStmts invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13333_stmts = args[0];
final Object __SV_LAMBDA_PARAM_13334_rhs = args[1];

    return ((!((Boolean)silver.extension.bidirtransform.PhasRwMatch.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns))))) ? ((silver.definition.core.NProductionStmts)common.Util.demand(__SV_LAMBDA_PARAM_13333_stmts)) : ((silver.definition.core.NProductionStmts)new silver.definition.core.PproductionStmtsSnoc(((silver.definition.core.NProductionStmts)common.Util.demand(__SV_LAMBDA_PARAM_13333_stmts)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionStmt)new silver.extension.bidirtransform.PattribDef(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PrestoreNm.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return (((Boolean)((common.DecoratedNode)silver.extension.bidirtransform.PrwMatch.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)))).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_hasProduction__ON__silver_extension_bidirtransform_RewriteRule)) ? ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PmkCond(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PlhsExprAccess((new common.StringCatter("wasTransformed")), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PapplyRwProd(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.extension.bidirtransform.PrwMatch.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)))); } }, ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PqAccess(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PrestoreNm.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)))); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PqAccess((new common.StringCatter("concreteOrigin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PlhsExprAccess((new common.StringCatter("origin")), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })) : ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PapplyRw(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.extension.bidirtransform.PrwMatch.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.newRwRules__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_rewriteRules__ON__silver_extension_bidirtransform_RewriteRuleList)); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)))); } }, ((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13334_rhs)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)silver.extension.bidirtransform.PunFull.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.type.NType)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)).synthesized(silver.definition.env.Init.silver_definition_env_typerep__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_typeName__ON__silver_definition_type_Type)); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13332_ns)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }))); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NProductionStmts)new silver.definition.core.PproductionStmtsNil(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull)));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13330_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls4__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls6 = foldl(\ agDcls::AGDcl tdcl::Decorated TransformDcl  -> appendAGDcl(defineTNameAttributes(tdcl, absNames, allNames, absProdDcls,location=ag.location), agDcls,location=ag.location), agDcls5, trsl.transformDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls6__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13349_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13350_tdcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PdefineTNameAttributes(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13350_tdcl)), context.localAsIsLazy(silver.extension.bidirtransform.Init.absNames__ON__silver_extension_bidirtransform_transformAGDclFull), context.localAsIsLazy(silver.extension.bidirtransform.Init.allNames__ON__silver_extension_bidirtransform_transformAGDclFull), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13349_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls5__ON__silver_extension_bidirtransform_transformAGDclFull)), context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_trsl, silver.extension.bidirtransform.Init.silver_extension_bidirtransform_transformDcls__ON__silver_extension_bidirtransform_TransformList))); } };
		// agDcls7 = foldl(\ agDcls::AGDcl dcl::Decorated NamedSignature  -> appendAGDcl(aspectProdStmt(dcl, \ ns::Decorated NamedSignature  -> attribDef(ns.outputElement.elementName, "suppliedOrigin", argFunc("locationOrigin", appExprList([ lhsAccess("location", ns,location=ag.location) ],location=ag.location),location=ag.location),location=ag.location),location=ag.location), agDcls,location=ag.location), agDcls6, locCncProdDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls7__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13357_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13358_dcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PaspectProdStmt(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13358_dcl)), (new common.NodeFactory<silver.definition.core.NProductionStmt>() {
  public final silver.definition.core.NProductionStmt invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13359_ns = args[0];

    return ((silver.definition.core.NProductionStmt)new silver.extension.bidirtransform.PattribDef(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13359_ns)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, (new common.StringCatter("suppliedOrigin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PargFunc((new common.StringCatter("locationOrigin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAppExprs)new silver.extension.bidirtransform.PappExprList(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pcons.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAppExpr)new silver.extension.bidirtransform.PlhsAccess((new common.StringCatter("location")), ((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13359_ns)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)core.Pnil.invoke()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13357_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls6__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.locCncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// agDcls8 = foldl(\ agDcls::AGDcl dcl::Decorated NamedSignature  -> appendAGDcl(aspectProdStmt(dcl, \ ns::Decorated NamedSignature  -> attribDef(ns.outputElement.elementName, "suppliedOrigin", emptyFunc("bottomOrigin",location=ag.location),location=ag.location),location=ag.location), agDcls,location=ag.location), agDcls7, nonLocCncProdDcls)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.agDcls8__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)core.Pfoldl.invoke((new common.NodeFactory<silver.definition.core.NAGDcl>() {
  public final silver.definition.core.NAGDcl invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13368_agDcls = args[0];
final Object __SV_LAMBDA_PARAM_13369_dcl = args[1];

    return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PaspectProdStmt(((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13369_dcl)), (new common.NodeFactory<silver.definition.core.NProductionStmt>() {
  public final silver.definition.core.NProductionStmt invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13370_ns = args[0];

    return ((silver.definition.core.NProductionStmt)new silver.extension.bidirtransform.PattribDef(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13370_ns)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement)); } }, (new common.StringCatter("suppliedOrigin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NExpr)new silver.extension.bidirtransform.PemptyFunc((new common.StringCatter("bottomOrigin")), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, ((silver.definition.core.NAGDcl)common.Util.demand(__SV_LAMBDA_PARAM_13368_agDcls)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }));
  }
}), common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls7__ON__silver_extension_bidirtransform_transformAGDclFull)), context.localAsIsLazy(silver.extension.bidirtransform.Init.nonLocCncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))); } };
		// toForward = appendAGDcl(applyOrigins(absGroup.ntList,location=ag.location), appendAGDcl(cncApplyOrigins(cncGroup.ntList,location=ag.location), agDcls8,location=ag.location),location=ag.location)
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.toForward__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PapplyOrigins(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.definition.core.PappendAGDcl(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((silver.definition.core.NAGDcl)new silver.extension.bidirtransform.PcncApplyOrigins(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, common.Thunk.transformUndecorate(context.localDecoratedLazy(silver.extension.bidirtransform.Init.agDcls8__ON__silver_extension_bidirtransform_transformAGDclFull)), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } })); } };
		// toForward.env = nestedAgs.env
		silver.extension.bidirtransform.PtransformAGDclFull.localInheritedAttributes[silver.extension.bidirtransform.Init.toForward__ON__silver_extension_bidirtransform_transformAGDclFull][silver.definition.core.Init.silver_definition_env_env__ON__silver_definition_core_AGDcl] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)context.childDecorated(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs).inherited(silver.definition.core.Init.silver_definition_env_env__ON__silver_definition_core_AGDcls)); } };
		// nestedAgs.env = appendEnv(ag.env, toEnv(toForward.defs))
		silver.extension.bidirtransform.PtransformAGDclFull.childInheritedAttributes[silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs][silver.definition.core.Init.silver_definition_env_env__ON__silver_definition_core_AGDcls] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.definition.env.PappendEnv.invoke(context.contextInheritedLazy(silver.definition.core.Init.silver_definition_env_env__ON__silver_definition_core_AGDcls), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.DecoratedNode)silver.definition.env.PtoEnv.invoke(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)context.localDecorated(silver.extension.bidirtransform.Init.toForward__ON__silver_extension_bidirtransform_transformAGDclFull).synthesized(silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcl)); } })); } })); } };
		// log = false
		silver.extension.bidirtransform.PtransformAGDclFull.localAttributes[silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull] = new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return false; } };
		// ag.errors <- if log then map(\ fnt::Decorated FullNonterminal  -> err(ag.location, "Abs nt: " ++ fnt.name), absGroup.ntList) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13382_fnt = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Abs nt: ")), (common.StringCatter)((common.StringCatter)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13382_fnt)).synthesized(silver.extension.bidirtransform.Init.silver_definition_core_name__ON__silver_extension_bidirtransform_FullNonterminal))); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.absGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } })) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ fnt::Decorated FullNonterminal  -> err(ag.location, "Cnc nt: " ++ fnt.name), cncGroup.ntList) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13383_fnt = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Cnc nt: ")), (common.StringCatter)((common.StringCatter)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13383_fnt)).synthesized(silver.extension.bidirtransform.Init.silver_definition_core_name__ON__silver_extension_bidirtransform_FullNonterminal))); } }));
  }
}), new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((common.ConsCell)((common.DecoratedNode)context.localAsIs(silver.extension.bidirtransform.Init.cncGroup__ON__silver_extension_bidirtransform_transformAGDclFull)).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ntList__ON__silver_extension_bidirtransform_NonterminalList)); } })) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ d::Def  -> err(ag.location, "Nested Def: " ++ d.ppDebug), nestedAgs.defs) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13384_d = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Nested Def: ")), (common.StringCatter)((common.StringCatter)((silver.definition.env.NDef)common.Util.demand(__SV_LAMBDA_PARAM_13384_d)).decorate(context, (common.Lazy[])null).synthesized(silver.extension.bidirtransform.Init.silver_extension_bidirtransform_ppDebug__ON__silver_definition_env_Def))); } }));
  }
}), context.childDecoratedSynthesizedLazy(silver.extension.bidirtransform.PtransformAGDclFull.i_nestedAgs, silver.definition.core.Init.silver_definition_env_defs__ON__silver_definition_core_AGDcls))) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ dec::Decorated NamedSignature  -> err(ag.location, "Abs prod: " ++ dec.fullName), absProdDcls) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13389_dec = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Abs prod: ")), (common.StringCatter)((common.StringCatter)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13389_dec)).synthesized(silver.definition.env.Init.silver_definition_env_fullName__ON__silver_definition_env_NamedSignature))); } }));
  }
}), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ dec::Decorated NamedSignature  -> err(ag.location, "Cnc prod: " ++ dec.fullName), cncProdDcls) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13390_dec = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Cnc prod: ")), (common.StringCatter)((common.StringCatter)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13390_dec)).synthesized(silver.definition.env.Init.silver_definition_env_fullName__ON__silver_definition_env_NamedSignature))); } }));
  }
}), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ dec::Decorated NamedSignature  -> err(ag.location, "Abs output: " ++ dec.outputElement.elementName), absProdDcls) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13391_dec = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Abs output: ")), (common.StringCatter)((common.StringCatter)((silver.definition.env.NNamedSignatureElement)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13391_dec)).synthesized(silver.definition.env.Init.silver_definition_env_outputElement__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_elementName__ON__silver_definition_env_NamedSignatureElement))); } }));
  }
}), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ dec::Decorated NamedSignature  -> err(ag.location, "Abs typerep: " ++ dec.typerep.typeName), absProdDcls) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13392_dec = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Abs typerep: ")), (common.StringCatter)((common.StringCatter)((silver.definition.type.NType)((common.DecoratedNode)common.Util.demand(__SV_LAMBDA_PARAM_13392_dec)).synthesized(silver.definition.env.Init.silver_definition_env_typerep__ON__silver_definition_env_NamedSignature)).decorate(context, (common.Lazy[])null).synthesized(silver.definition.env.Init.silver_definition_env_typeName__ON__silver_definition_type_Type))); } }));
  }
}), context.localAsIsLazy(silver.extension.bidirtransform.Init.absProdDcls__ON__silver_extension_bidirtransform_transformAGDclFull))) : ((common.ConsCell)core.Pnil.invoke())); } });
		// ag.errors <- if log then map(\ s::String  -> err(ag.location, "Cnc name: " ++ s), cncNames) else []
		if(silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] == null)
			silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls] = new silver.definition.core.CAerrors(silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls);
		((common.CollectionAttribute)silver.extension.bidirtransform.PtransformAGDclFull.synthesizedAttributes[silver.definition.core.Init.silver_definition_core_errors__ON__silver_definition_core_AGDcls]).addPiece(new common.Lazy() { public final Object eval(final common.DecoratedNode context) { return (((Boolean)context.localAsIs(silver.extension.bidirtransform.Init.log__ON__silver_extension_bidirtransform_transformAGDclFull)) ? ((common.ConsCell)core.Pmap.invoke((new common.NodeFactory<silver.definition.core.NMessage>() {
  public final silver.definition.core.NMessage invoke(final Object[] args, final Object[] namedArgs) {
    final Object __SV_LAMBDA_PARAM_13393_s = args[0];

    return ((silver.definition.core.NMessage)new silver.definition.core.Perr(new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return ((core.NLocation)((silver.definition.core.NAGDcls)context.undecorate()).getAnno_core_location()); } }, new common.Thunk<Object>(context) { public final Object doEval(final common.DecoratedNode context) { return new common.StringCatter((common.StringCatter)(new common.StringCatter("Cnc name: ")), (common.StringCatter)((common.StringCatter)common.Util.demand(__SV_LAMBDA_PARAM_13393_s))); } }));
  }
}), context.localAsIsLazy(silver.extension.bidirtransform.Init.cncNames__ON__silver_extension_bidirtransform_transformAGDclFull))) : ((common.ConsCell)core.Pnil.invoke())); } });

	}

	public static final common.NodeFactory<PtransformAGDclFull> factory = new Factory();

	public static final class Factory extends common.NodeFactory<PtransformAGDclFull> {

		@Override
		public PtransformAGDclFull invoke(final Object[] children, final Object[] annotations) {
			return new PtransformAGDclFull(children[0], children[1], children[2], children[3], children[4], children[5], children[6], children[7], children[8], children[9], children[10], children[11], annotations[0]);
		}
	};

}
